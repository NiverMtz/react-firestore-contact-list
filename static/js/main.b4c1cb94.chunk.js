(this["webpackJsonplogin-react-firebase"]=this["webpackJsonplogin-react-firebase"]||[]).push([[0],{25:function(e,t,n){"use strict";n.r(t);var a=n(5),c=n.n(a),r=n(15),o=n.n(r),s=n(7),i=n.n(s),l=n(12),u=n(11),d=n(10),p=n(16),b=(n(26),p.a.initializeApp({apiKey:"AIzaSyBJe9ADWwW8y-SOPoFdjBQ4wMPyqP0Lu0g",authDomain:"login-react-5f424.firebaseapp.com",projectId:"login-react-5f424",storageBucket:"login-react-5f424.appspot.com",messagingSenderId:"781441320166",appId:"1:781441320166:web:dc996df1a09250f51ca727",measurementId:"G-231XKRJYN0"}).firestore()),j=n(2);var f=function(){var e=Object(a.useState)(null),t=Object(d.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),o=Object(d.a)(r,2),s=o[0],p=o[1],f=Object(a.useState)(""),m=Object(d.a)(f,2),v=m[0],O=m[1],g=Object(a.useState)(""),x=Object(d.a)(g,2),h=x[0],w=x[1],y=Object(a.useState)(""),N=Object(d.a)(y,2),k=N[0],S=N[1],E=Object(a.useState)([]),I=Object(d.a)(E,2),B=I[0],C=I[1];Object(a.useEffect)((function(){(function(){var e=Object(u.a)(i.a.mark((function e(){var t,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.collection("agenda").get();case 2:t=e.sent,n=t.docs,a=n.map((function(e){return Object(l.a)({id:e.id},e.data())})),C(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var D=function(){var e=Object(u.a)(i.a.mark((function e(t){var n,a,c,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),v.trim()?h.trim()||S("El campo tel\xe9fono est\xe1 vac\xedo"):S("El campo nombre est\xe1 vac\xedo"),n={nombre:v,telefono:h},e.prev=3,e.next=6,b.collection("agenda").add(n);case 6:return e.sent,e.next=9,b.collection("agenda").get();case 9:a=e.sent,c=a.docs,r=c.map((function(e){return Object(l.a)({id:e.id},e.data())})),C(r),alert("Usuario a\xf1adido"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),console.log(e.t0);case 19:O(""),w("");case 21:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(u.a)(i.a.mark((function e(t){var n,a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.collection("agenda").doc(t).delete();case 3:return e.next=5,b.collection("agenda").get();case 5:n=e.sent,a=n.docs,c=a.map((function(e){return Object(l.a)({id:e.id},e.data())})),C(c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(u.a)(i.a.mark((function e(t){var n,a,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.collection("agenda").doc(t).get();case 3:n=e.sent,a=n.data(),r=a.nombre,o=a.telefono,p(t),O(r),w(o),c(!0),console.log(t),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(u.a)(i.a.mark((function e(t){var n,a,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),v.trim()?h.trim()||S("El campo tel\xe9fono est\xe1 vac\xedo"):S("El campo nombre est\xe1 vac\xedo"),n={nombre:v,telefono:h},e.prev=3,e.next=6,b.collection("agenda").doc(s).set(n);case 6:return e.next=8,b.collection("agenda").get();case 8:a=e.sent,r=a.docs,o=r.map((function(e){return Object(l.a)({id:e.id},e.data())})),C(o),p(""),O(""),w(""),c(!1),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(3),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"col",children:[Object(j.jsx)("h2",{children:"Formulario de usuarios"}),Object(j.jsxs)("form",{onSubmit:n?P:D,className:"form-group d-grid",children:[Object(j.jsx)("input",{value:v,onChange:function(e){O(e.target.value)},className:"form-control",type:"text",placeholder:"Introduce el nombre"}),Object(j.jsx)("input",{value:h,onChange:function(e){w(e.target.value)},className:"form-control mt-3",type:"text",placeholder:"Introduce el tel\xe9fono"}),n?Object(j.jsx)("input",{type:"submit",value:"Editar",className:"btn btn-dark mt-3"}):Object(j.jsx)("input",{type:"submit",value:"Registrar",className:"btn btn-dark mt-3"})]}),k?Object(j.jsx)("div",{className:"alert alert-secondary mt-3",role:"alert",children:k}):Object(j.jsx)("span",{})]}),Object(j.jsxs)("div",{className:"col",children:[Object(j.jsx)("h2",{children:"Lista de Contactos"}),Object(j.jsx)("ul",{className:"list-group",children:0!==B.length?B.map((function(e){return Object(j.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[e.nombre," -- ",e.telefono,Object(j.jsxs)("div",{className:"d-flex gap-3",children:[Object(j.jsx)("button",{onClick:function(t){A(e.id)},className:"btn btn-info ",children:"Editar"}),Object(j.jsx)("button",{onClick:function(t){J(e.id)},className:"btn btn-danger",children:"Borrar"})]})]},e.id)})):Object(j.jsx)("div",{class:"alert alert-info",role:"alert",children:"No hay usuarios en tu agenda"})})]})]})})};n(24);o.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(f,{})}),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.b4c1cb94.chunk.js.map