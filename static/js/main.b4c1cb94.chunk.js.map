{"version":3,"sources":["firebaseconfig.js","App.jsx","index.js"],"names":["store","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","App","useState","modoedit","setModoEdit","iduser","setIdUser","nombre","setNombre","phone","setPhone","error","setError","users","setUsers","useEffect","a","collection","get","docs","nvoArray","map","item","id","data","getUsuarios","setUsuarios","e","preventDefault","trim","usuario","telefono","add","alert","console","log","borrarUsuario","doc","delete","pulsarEditar","setUpdate","userUpdate","set","className","onSubmit","value","onChange","target","type","placeholder","role","length","onClick","class","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b4c1cb94.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport 'firebase/firestore';\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyBJe9ADWwW8y-SOPoFdjBQ4wMPyqP0Lu0g\",\r\n    authDomain: \"login-react-5f424.firebaseapp.com\",\r\n    projectId: \"login-react-5f424\",\r\n    storageBucket: \"login-react-5f424.appspot.com\",\r\n    messagingSenderId: \"781441320166\",\r\n    appId: \"1:781441320166:web:dc996df1a09250f51ca727\",\r\n    measurementId: \"G-231XKRJYN0\"\r\n  };\r\n  // Initialize Firebase\r\nconst fireb = firebase.initializeApp(firebaseConfig);\r\n    // firebase.analytics();\r\nconst store = fireb.firestore();\r\n\r\nexport {store};\r\n","import React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { store } from \"./firebaseconfig\";\n\nfunction App() {\n  const [modoedit, setModoEdit] = useState(null);\n  const [iduser, setIdUser] = useState(\"\");\n  const [nombre, setNombre] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [users, setUsers] = useState([]);\n\n  useEffect(() => {\n    const getUsuarios = async () => {\n      const { docs } = await store.collection(\"agenda\").get();\n      const nvoArray = docs.map((item) => ({ id: item.id, ...item.data() }));\n      setUsers(nvoArray);\n    };\n    getUsuarios();\n  }, []);\n\n  const setUsuarios = async (e) => {\n    e.preventDefault();\n    if (!nombre.trim()) {\n      setError(\"El campo nombre está vacío\");\n    } else if (!phone.trim()) {\n      setError(\"El campo teléfono está vacío\");\n    }\n    const usuario = {\n      nombre: nombre,\n      telefono: phone,\n    };\n    try {\n      const data = await store.collection(\"agenda\").add(usuario);\n      const { docs } = await store.collection(\"agenda\").get();\n      const nvoArray = docs.map((item) => ({ id: item.id, ...item.data() }));\n      setUsers(nvoArray);\n      alert(\"Usuario añadido\");\n    } catch (error) {\n      console.log(error);\n    }\n    setNombre(\"\");\n    setPhone(\"\");\n  };\n\n  const borrarUsuario = async (id) => {\n    try {\n      await store.collection('agenda').doc(id).delete()\n      const { docs } = await store.collection(\"agenda\").get();\n      const nvoArray = docs.map((item) => ({ id: item.id, ...item.data() }));\n      setUsers(nvoArray);\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  const pulsarEditar = async (id) => {\n    try {\n      const data = await store.collection('agenda').doc(id).get();\n      const {nombre, telefono} = data.data();\n      setIdUser(id);\n      setNombre(nombre);\n      setPhone(telefono);\n      setModoEdit(true)\n      console.log(id);\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  const setUpdate = async (e) => {\n    e.preventDefault()\n    if (!nombre.trim()) {\n      setError(\"El campo nombre está vacío\");\n    } else if (!phone.trim()) {\n      setError(\"El campo teléfono está vacío\");\n    }\n    const userUpdate = {\n      nombre: nombre,\n      telefono: phone\n    }\n    try {\n      await store.collection('agenda').doc(iduser).set(userUpdate)\n      const { docs } = await store.collection(\"agenda\").get();\n      const nvoArray = docs.map((item) => ({ id: item.id, ...item.data() }));\n      setUsers(nvoArray);\n      setIdUser('');\n      setNombre('');\n      setPhone('');\n      setModoEdit(false)\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  return (\n    <div className=\"container\">\n      <div className=\"row\">\n        <div className=\"col\">\n          <h2>Formulario de usuarios</h2>\n          <form onSubmit={modoedit ? setUpdate : setUsuarios} className=\"form-group d-grid\">\n            <input\n              value={nombre}\n              onChange={(e) => {\n                setNombre(e.target.value);\n              }}\n              className=\"form-control\"\n              type=\"text\"\n              placeholder=\"Introduce el nombre\"\n            />\n            <input\n              value={phone}\n              onChange={(e) => {\n                setPhone(e.target.value);\n              }}\n              className=\"form-control mt-3\"\n              type=\"text\"\n              placeholder=\"Introduce el teléfono\"\n            />\n            {\n              modoedit ?\n              (\n                <input\n              type=\"submit\"\n              value=\"Editar\"\n              className=\"btn btn-dark mt-3\"\n            />\n              )\n              :\n              (\n                <input\n              type=\"submit\"\n              value=\"Registrar\"\n              className=\"btn btn-dark mt-3\"\n            />\n              )\n            }\n          </form>\n          {error ? (\n            <div className=\"alert alert-secondary mt-3\" role=\"alert\">\n              {error}\n            </div>\n          ) : (\n            <span></span>\n          )}\n        </div>\n        <div className=\"col\">\n          <h2>Lista de Contactos</h2>\n          <ul className=\"list-group\">\n          {users.length !== 0 ? (\n            users.map(item => (\n              <li className=\"list-group-item d-flex justify-content-between align-items-center\" key={item.id}>{item.nombre} -- {item.telefono}\n              <div className=\"d-flex gap-3\">\n              <button onClick={(id)=>{pulsarEditar(item.id)}} className=\"btn btn-info \">Editar</button>\n              <button onClick={(id)=>{borrarUsuario(item.id)}} className=\"btn btn-danger\">Borrar</button>\n              </div>\n              </li>\n            ))\n          ) : (\n            <div class=\"alert alert-info\" role=\"alert\">\n              No hay usuarios en tu agenda\n            </div>\n          )}\n          </ul>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App.jsx';\nimport bootstrap from 'bootstrap/dist/css/bootstrap.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}